<?php

namespace App\Livewire;

use GuzzleHttp\Client;
use Illuminate\Support\Facades\Http;
use Livewire\Component;

class LstmPrediction extends Component
{
    public $predictionResult = '';

    public string $_uid;

    protected $listeners = ['sendSensorData', 'clearData'];

    public function temp($data)
    {
        $pattern = '/^sensorData=(.*) timestamp=(\d+)$/';
        if (preg_match($pattern, $data, $matches)) {
            // matches[1] = časť s dátami, matches[2] = timestamp
            $jsonPart = $matches[1];
            $timestamp = $matches[2];

            // Nahradíme jednoduché úvodzovky dvojitými (ak vieme, že v hodnotách nebudú ďalšie dvojité úvodzovky)
            $jsonPart = str_replace("'", "\"", $jsonPart);

            // Zostavíme výsledný JSON objekt
            $finalJson = "{\"sensorData\": $jsonPart, \"timestamp\": $timestamp}";

            // Teraz môžeme dekódovať JSON
            $decoded = json_decode($finalJson, true);

            return $decoded;

        } else {
            echo "Reťazec nespĺňa očakávaný formát.";
        }
    }

    public function mount() {
        $this->_uid = uniqid();
    }

//    public function mount()
//    {
//        $data = "sensorData={'accelerometer': [{'t': 1741438643560, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643611, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643663, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643715, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438643766, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438643818, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643900, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438643951, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644002, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644057, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644109, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644163, 'x': 0.5, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644215, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644266, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644317, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644368, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644420, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644471, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}], 'gyroscope': [{'t': 1741438643540, 'x': 0.0017453292519943296, 'y': 0, 'z': 0}, {'t': 1741438643592, 'x': -0.0017453292519943296, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438643643, 'x': 0.0017453292519943296, 'y': 0.0017453292519943296, 'z': 0}, {'t': 1741438643694, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438643746, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438643797, 'x': 0.0017453292519943296, 'y': 0, 'z': 0}, {'t': 1741438643899, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438643949, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644000, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644051, 'x': 0, 'y': 0.0017453292519943296, 'z': 0}, {'t': 1741438644103, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644154, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644205, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438644257, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438644308, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644360, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438644411, 'x': 0.0017453292519943296, 'y': 0, 'z': 0}, {'t': 1741438644463, 'x': 0.0017453292519943296, 'y': 0.0017453292519943296, 'z': 0}], 'magnetometer': [{'t': 1741438643542, 'x': -9.25, 'y': -23.5, 'z': -44.19}, {'t': 1741438643593, 'x': -9.25, 'y': -23.5, 'z': -44.19}, {'t': 1741438643645, 'x': -8.75, 'y': -23.38, 'z': -43.94}, {'t': 1741438643696, 'x': -8.75, 'y': -23.38, 'z': -43.94}, {'t': 1741438643747, 'x': -8.69, 'y': -22.63, 'z': -43.94}, {'t': 1741438643798, 'x': -8.69, 'y': -22.63, 'z': -43.94}, {'t': 1741438643899, 'x': -8.44, 'y': -23.81, 'z': -44.56}, {'t': 1741438643950, 'x': -9.06, 'y': -23, 'z': -43.88}, {'t': 1741438644001, 'x': -9.06, 'y': -23, 'z': -43.88}, {'t': 1741438644053, 'x': -9.25, 'y': -23.63, 'z': -44.75}, {'t': 1741438644104, 'x': -9.25, 'y': -23.63, 'z': -44.75}, {'t': 1741438644155, 'x': -9.06, 'y': -23.25, 'z': -43.94}, {'t': 1741438644207, 'x': -9.06, 'y': -23.25, 'z': -43.94}, {'t': 1741438644258, 'x': -8.88, 'y': -23.44, 'z': -43.63}, {'t': 1741438644309, 'x': -8.88, 'y': -23.44, 'z': -43.63}, {'t': 1741438644361, 'x': -9.5, 'y': -23.25, 'z': -43.81}, {'t': 1741438644413, 'x': -9.5, 'y': -23.25, 'z': -43.81}, {'t': 1741438644464, 'x': -9.38, 'y': -22.56, 'z': -44.25}], 'absOrientation': [{'t': 1741438643558, 'x': 178.9342608673567, 'y': 2.5524820871147678, 'z': -162.11848516540667}, {'t': 1741438643609, 'x': 178.9342608673567, 'y': 2.5524820871147678, 'z': -162.11848516540667}, {'t': 1741438643660, 'x': 178.92980539894629, 'y': 2.550618240758628, 'z': -162.11856701826403}, {'t': 1741438643712, 'x': 178.92980539894629, 'y': 2.550618240758628, 'z': -162.11856701826403}, {'t': 1741438643763, 'x': 178.92980539894629, 'y': 2.550618240758628, 'z': -162.11856701826403}, {'t': 1741438643815, 'x': 178.92535320271105, 'y': 2.548746622352645, 'z': -162.11864858046064}, {'t': 1741438643900, 'x': 178.92535320271105, 'y': 2.548746622352645, 'z': -162.11864858046064}, {'t': 1741438643950, 'x': 178.92535320271105, 'y': 2.548746622352645, 'z': -162.11864858046064}, {'t': 1741438644001, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644054, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644106, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644158, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644209, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644260, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644311, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644363, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644415, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644466, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}], 'relOrientation': [{'t': 1741438643559, 'x': 178.8712119534705, 'y': 2.640146798236988, 'z': 2.3079766529521786}, {'t': 1741438643610, 'x': 178.8648792286603, 'y': 2.64186136320185, 'z': 2.302799007875889}, {'t': 1741438643661, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643713, 'x': 178.8666033872273, 'y': 2.63817279742803, 'z': 2.307889979517481}, {'t': 1741438643765, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643816, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643900, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643951, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644001, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644056, 'x': 178.85565962483614, 'y': 2.637883211300196, 'z': 2.3026261442506977}, {'t': 1741438644108, 'x': 178.85565962483614, 'y': 2.637883211300196, 'z': 2.3026261442506977}, {'t': 1741438644160, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644211, 'x': 178.85565962483614, 'y': 2.637883211300196, 'z': 2.3026261442506977}, {'t': 1741438644263, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644314, 'x': 178.85854005811873, 'y': 2.643553602891253, 'z': 2.297614145332214}, {'t': 1741438644366, 'x': 178.85854005811873, 'y': 2.643553602891253, 'z': 2.297614145332214}, {'t': 1741438644417, 'x': 178.8539255739955, 'y': 2.641557484641681, 'z': 2.297527637893572}, {'t': 1741438644469, 'x': 178.85854005811873, 'y': 2.643553602891253, 'z': 2.297614145332214}]} timestamp=1741438644510";
//        $data2 = "sensorData={'accelerometer': [{'t': 1741438643560, 'x': 0.5, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643611, 'x': 0.5, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643663, 'x': 0.5, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643715, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438643766, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438643818, 'x': 0.5, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643900, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438643951, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644002, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644057, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644109, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644163, 'x': 0.5, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644215, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644266, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644317, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644368, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644420, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644471, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}], 'gyroscope': [{'t': 1741438643540, 'x': 0.0017453292519943296, 'y': 0, 'z': 0}, {'t': 1741438643592, 'x': -0.0017453292519943296, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438643643, 'x': 0.0017453292519943296, 'y': 0.0017453292519943296, 'z': 0}, {'t': 1741438643694, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438643746, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438643797, 'x': 0.0017453292519943296, 'y': 0, 'z': 0}, {'t': 1741438643899, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438643949, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644000, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644051, 'x': 0, 'y': 0.0017453292519943296, 'z': 0}, {'t': 1741438644103, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644154, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644205, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438644257, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438644308, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644360, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438644411, 'x': 0.0017453292519943296, 'y': 0, 'z': 0}, {'t': 1741438644463, 'x': 0.0017453292519943296, 'y': 0.0017453292519943296, 'z': 0}], 'magnetometer': [{'t': 1741438643542, 'x': -9.25, 'y': -23.5, 'z': -44.19}, {'t': 1741438643593, 'x': -9.25, 'y': -23.5, 'z': -44.19}, {'t': 1741438643645, 'x': -8.75, 'y': -23.38, 'z': -43.94}, {'t': 1741438643696, 'x': -8.75, 'y': -23.38, 'z': -43.94}, {'t': 1741438643747, 'x': -8.69, 'y': -22.63, 'z': -43.94}, {'t': 1741438643798, 'x': -8.69, 'y': -22.63, 'z': -43.94}, {'t': 1741438643899, 'x': -8.44, 'y': -23.81, 'z': -44.56}, {'t': 1741438643950, 'x': -9.06, 'y': -23, 'z': -43.88}, {'t': 1741438644001, 'x': -9.06, 'y': -23, 'z': -43.88}, {'t': 1741438644053, 'x': -9.25, 'y': -23.63, 'z': -44.75}, {'t': 1741438644104, 'x': -9.25, 'y': -23.63, 'z': -44.75}, {'t': 1741438644155, 'x': -9.06, 'y': -23.25, 'z': -43.94}, {'t': 1741438644207, 'x': -9.06, 'y': -23.25, 'z': -43.94}, {'t': 1741438644258, 'x': -8.88, 'y': -23.44, 'z': -43.63}, {'t': 1741438644309, 'x': -8.88, 'y': -23.44, 'z': -43.63}, {'t': 1741438644361, 'x': -9.5, 'y': -23.25, 'z': -43.81}, {'t': 1741438644413, 'x': -9.5, 'y': -23.25, 'z': -43.81}, {'t': 1741438644464, 'x': -9.38, 'y': -22.56, 'z': -44.25}], 'absOrientation': [{'t': 1741438643558, 'x': 178.9342608673567, 'y': 2.5524820871147678, 'z': -162.11848516540667}, {'t': 1741438643609, 'x': 178.9342608673567, 'y': 2.5524820871147678, 'z': -162.11848516540667}, {'t': 1741438643660, 'x': 178.92980539894629, 'y': 2.550618240758628, 'z': -162.11856701826403}, {'t': 1741438643712, 'x': 178.92980539894629, 'y': 2.550618240758628, 'z': -162.11856701826403}, {'t': 1741438643763, 'x': 178.92980539894629, 'y': 2.550618240758628, 'z': -162.11856701826403}, {'t': 1741438643815, 'x': 178.92535320271105, 'y': 2.548746622352645, 'z': -162.11864858046064}, {'t': 1741438643900, 'x': 178.92535320271105, 'y': 2.548746622352645, 'z': -162.11864858046064}, {'t': 1741438643950, 'x': 178.92535320271105, 'y': 2.548746622352645, 'z': -162.11864858046064}, {'t': 1741438644001, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644054, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644106, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644158, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644209, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644260, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644311, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644363, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644415, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644466, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}], 'relOrientation': [{'t': 1741438643559, 'x': 178.8712119534705, 'y': 2.640146798236988, 'z': 2.3079766529521786}, {'t': 1741438643610, 'x': 178.8648792286603, 'y': 2.64186136320185, 'z': 2.302799007875889}, {'t': 1741438643661, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643713, 'x': 178.8666033872273, 'y': 2.63817279742803, 'z': 2.307889979517481}, {'t': 1741438643765, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643816, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643900, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643951, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644001, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644056, 'x': 178.85565962483614, 'y': 2.637883211300196, 'z': 2.3026261442506977}, {'t': 1741438644108, 'x': 178.85565962483614, 'y': 2.637883211300196, 'z': 2.3026261442506977}, {'t': 1741438644160, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644211, 'x': 178.85565962483614, 'y': 2.637883211300196, 'z': 2.3026261442506977}, {'t': 1741438644263, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644314, 'x': 178.85854005811873, 'y': 2.643553602891253, 'z': 2.297614145332214}, {'t': 1741438644366, 'x': 178.85854005811873, 'y': 2.643553602891253, 'z': 2.297614145332214}, {'t': 1741438644417, 'x': 178.8539255739955, 'y': 2.641557484641681, 'z': 2.297527637893572}, {'t': 1741438644469, 'x': 178.85854005811873, 'y': 2.643553602891253, 'z': 2.297614145332214}]} timestamp=1741438644510";
//        $data3 = "sensorData={'accelerometer': [{'t': 1741438643560, 'x': 0.6, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643611, 'x': 0.6, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643663, 'x': 0.6, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643715, 'x': 0.6, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438643766, 'x': 0.6, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438643818, 'x': 0.6, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643900, 'x': 0.6, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438643951, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644002, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644057, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644109, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644163, 'x': 0.5, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644215, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644266, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644317, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644368, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644420, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644471, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}], 'gyroscope': [{'t': 1741438643540, 'x': 0.0017453292519943296, 'y': 0, 'z': 0}, {'t': 1741438643592, 'x': -0.0017453292519943296, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438643643, 'x': 0.0017453292519943296, 'y': 0.0017453292519943296, 'z': 0}, {'t': 1741438643694, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438643746, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438643797, 'x': 0.0017453292519943296, 'y': 0, 'z': 0}, {'t': 1741438643899, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438643949, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644000, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644051, 'x': 0, 'y': 0.0017453292519943296, 'z': 0}, {'t': 1741438644103, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644154, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644205, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438644257, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438644308, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644360, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438644411, 'x': 0.0017453292519943296, 'y': 0, 'z': 0}, {'t': 1741438644463, 'x': 0.0017453292519943296, 'y': 0.0017453292519943296, 'z': 0}], 'magnetometer': [{'t': 1741438643542, 'x': -9.25, 'y': -23.5, 'z': -44.19}, {'t': 1741438643593, 'x': -9.25, 'y': -23.5, 'z': -44.19}, {'t': 1741438643645, 'x': -8.75, 'y': -23.38, 'z': -43.94}, {'t': 1741438643696, 'x': -8.75, 'y': -23.38, 'z': -43.94}, {'t': 1741438643747, 'x': -8.69, 'y': -22.63, 'z': -43.94}, {'t': 1741438643798, 'x': -8.69, 'y': -22.63, 'z': -43.94}, {'t': 1741438643899, 'x': -8.44, 'y': -23.81, 'z': -44.56}, {'t': 1741438643950, 'x': -9.06, 'y': -23, 'z': -43.88}, {'t': 1741438644001, 'x': -9.06, 'y': -23, 'z': -43.88}, {'t': 1741438644053, 'x': -9.25, 'y': -23.63, 'z': -44.75}, {'t': 1741438644104, 'x': -9.25, 'y': -23.63, 'z': -44.75}, {'t': 1741438644155, 'x': -9.06, 'y': -23.25, 'z': -43.94}, {'t': 1741438644207, 'x': -9.06, 'y': -23.25, 'z': -43.94}, {'t': 1741438644258, 'x': -8.88, 'y': -23.44, 'z': -43.63}, {'t': 1741438644309, 'x': -8.88, 'y': -23.44, 'z': -43.63}, {'t': 1741438644361, 'x': -9.5, 'y': -23.25, 'z': -43.81}, {'t': 1741438644413, 'x': -9.5, 'y': -23.25, 'z': -43.81}, {'t': 1741438644464, 'x': -9.38, 'y': -22.56, 'z': -44.25}], 'absOrientation': [{'t': 1741438643558, 'x': 178.9342608673567, 'y': 2.5524820871147678, 'z': -162.11848516540667}, {'t': 1741438643609, 'x': 178.9342608673567, 'y': 2.5524820871147678, 'z': -162.11848516540667}, {'t': 1741438643660, 'x': 178.92980539894629, 'y': 2.550618240758628, 'z': -162.11856701826403}, {'t': 1741438643712, 'x': 178.92980539894629, 'y': 2.550618240758628, 'z': -162.11856701826403}, {'t': 1741438643763, 'x': 178.92980539894629, 'y': 2.550618240758628, 'z': -162.11856701826403}, {'t': 1741438643815, 'x': 178.92535320271105, 'y': 2.548746622352645, 'z': -162.11864858046064}, {'t': 1741438643900, 'x': 178.92535320271105, 'y': 2.548746622352645, 'z': -162.11864858046064}, {'t': 1741438643950, 'x': 178.92535320271105, 'y': 2.548746622352645, 'z': -162.11864858046064}, {'t': 1741438644001, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644054, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644106, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644158, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644209, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644260, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644311, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644363, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644415, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644466, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}], 'relOrientation': [{'t': 1741438643559, 'x': 178.8712119534705, 'y': 2.640146798236988, 'z': 2.3079766529521786}, {'t': 1741438643610, 'x': 178.8648792286603, 'y': 2.64186136320185, 'z': 2.302799007875889}, {'t': 1741438643661, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643713, 'x': 178.8666033872273, 'y': 2.63817279742803, 'z': 2.307889979517481}, {'t': 1741438643765, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643816, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643900, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643951, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644001, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644056, 'x': 178.85565962483614, 'y': 2.637883211300196, 'z': 2.3026261442506977}, {'t': 1741438644108, 'x': 178.85565962483614, 'y': 2.637883211300196, 'z': 2.3026261442506977}, {'t': 1741438644160, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644211, 'x': 178.85565962483614, 'y': 2.637883211300196, 'z': 2.3026261442506977}, {'t': 1741438644263, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644314, 'x': 178.85854005811873, 'y': 2.643553602891253, 'z': 2.297614145332214}, {'t': 1741438644366, 'x': 178.85854005811873, 'y': 2.643553602891253, 'z': 2.297614145332214}, {'t': 1741438644417, 'x': 178.8539255739955, 'y': 2.641557484641681, 'z': 2.297527637893572}, {'t': 1741438644469, 'x': 178.85854005811873, 'y': 2.643553602891253, 'z': 2.297614145332214}]} timestamp=1741438644510";
//        $data4 = "sensorData={'accelerometer': [{'t': 1741438643560, 'x': 0.7, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643611, 'x': 0.7, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643663, 'x': 0.7, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643715, 'x': 0.7, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438643766, 'x': 0.7, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438643818, 'x': 0.7, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643900, 'x': 0.7, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438643951, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644002, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644057, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644109, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644163, 'x': 0.5, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644215, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644266, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644317, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644368, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644420, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644471, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}], 'gyroscope': [{'t': 1741438643540, 'x': 0.0017453292519943296, 'y': 0, 'z': 0}, {'t': 1741438643592, 'x': -0.0017453292519943296, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438643643, 'x': 0.0017453292519943296, 'y': 0.0017453292519943296, 'z': 0}, {'t': 1741438643694, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438643746, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438643797, 'x': 0.0017453292519943296, 'y': 0, 'z': 0}, {'t': 1741438643899, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438643949, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644000, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644051, 'x': 0, 'y': 0.0017453292519943296, 'z': 0}, {'t': 1741438644103, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644154, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644205, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438644257, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438644308, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644360, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438644411, 'x': 0.0017453292519943296, 'y': 0, 'z': 0}, {'t': 1741438644463, 'x': 0.0017453292519943296, 'y': 0.0017453292519943296, 'z': 0}], 'magnetometer': [{'t': 1741438643542, 'x': -9.25, 'y': -23.5, 'z': -44.19}, {'t': 1741438643593, 'x': -9.25, 'y': -23.5, 'z': -44.19}, {'t': 1741438643645, 'x': -8.75, 'y': -23.38, 'z': -43.94}, {'t': 1741438643696, 'x': -8.75, 'y': -23.38, 'z': -43.94}, {'t': 1741438643747, 'x': -8.69, 'y': -22.63, 'z': -43.94}, {'t': 1741438643798, 'x': -8.69, 'y': -22.63, 'z': -43.94}, {'t': 1741438643899, 'x': -8.44, 'y': -23.81, 'z': -44.56}, {'t': 1741438643950, 'x': -9.06, 'y': -23, 'z': -43.88}, {'t': 1741438644001, 'x': -9.06, 'y': -23, 'z': -43.88}, {'t': 1741438644053, 'x': -9.25, 'y': -23.63, 'z': -44.75}, {'t': 1741438644104, 'x': -9.25, 'y': -23.63, 'z': -44.75}, {'t': 1741438644155, 'x': -9.06, 'y': -23.25, 'z': -43.94}, {'t': 1741438644207, 'x': -9.06, 'y': -23.25, 'z': -43.94}, {'t': 1741438644258, 'x': -8.88, 'y': -23.44, 'z': -43.63}, {'t': 1741438644309, 'x': -8.88, 'y': -23.44, 'z': -43.63}, {'t': 1741438644361, 'x': -9.5, 'y': -23.25, 'z': -43.81}, {'t': 1741438644413, 'x': -9.5, 'y': -23.25, 'z': -43.81}, {'t': 1741438644464, 'x': -9.38, 'y': -22.56, 'z': -44.25}], 'absOrientation': [{'t': 1741438643558, 'x': 178.9342608673567, 'y': 2.5524820871147678, 'z': -162.11848516540667}, {'t': 1741438643609, 'x': 178.9342608673567, 'y': 2.5524820871147678, 'z': -162.11848516540667}, {'t': 1741438643660, 'x': 178.92980539894629, 'y': 2.550618240758628, 'z': -162.11856701826403}, {'t': 1741438643712, 'x': 178.92980539894629, 'y': 2.550618240758628, 'z': -162.11856701826403}, {'t': 1741438643763, 'x': 178.92980539894629, 'y': 2.550618240758628, 'z': -162.11856701826403}, {'t': 1741438643815, 'x': 178.92535320271105, 'y': 2.548746622352645, 'z': -162.11864858046064}, {'t': 1741438643900, 'x': 178.92535320271105, 'y': 2.548746622352645, 'z': -162.11864858046064}, {'t': 1741438643950, 'x': 178.92535320271105, 'y': 2.548746622352645, 'z': -162.11864858046064}, {'t': 1741438644001, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644054, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644106, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644158, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644209, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644260, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644311, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644363, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644415, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644466, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}], 'relOrientation': [{'t': 1741438643559, 'x': 178.8712119534705, 'y': 2.640146798236988, 'z': 2.3079766529521786}, {'t': 1741438643610, 'x': 178.8648792286603, 'y': 2.64186136320185, 'z': 2.302799007875889}, {'t': 1741438643661, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643713, 'x': 178.8666033872273, 'y': 2.63817279742803, 'z': 2.307889979517481}, {'t': 1741438643765, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643816, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643900, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643951, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644001, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644056, 'x': 178.85565962483614, 'y': 2.637883211300196, 'z': 2.3026261442506977}, {'t': 1741438644108, 'x': 178.85565962483614, 'y': 2.637883211300196, 'z': 2.3026261442506977}, {'t': 1741438644160, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644211, 'x': 178.85565962483614, 'y': 2.637883211300196, 'z': 2.3026261442506977}, {'t': 1741438644263, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644314, 'x': 178.85854005811873, 'y': 2.643553602891253, 'z': 2.297614145332214}, {'t': 1741438644366, 'x': 178.85854005811873, 'y': 2.643553602891253, 'z': 2.297614145332214}, {'t': 1741438644417, 'x': 178.8539255739955, 'y': 2.641557484641681, 'z': 2.297527637893572}, {'t': 1741438644469, 'x': 178.85854005811873, 'y': 2.643553602891253, 'z': 2.297614145332214}]} timestamp=1741438644510";
//        $data5 = "sensorData={'accelerometer': [{'t': 1741438643560, 'x': 0.8, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643611, 'x': 0.8, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643663, 'x': 0.8, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643715, 'x': 0.8, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438643766, 'x': 0.8, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438643818, 'x': 0.8, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643900, 'x': 0.8, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438643951, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644002, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644057, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644109, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644163, 'x': 0.5, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644215, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644266, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644317, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644368, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644420, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644471, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}], 'gyroscope': [{'t': 1741438643540, 'x': 0.0017453292519943296, 'y': 0, 'z': 0}, {'t': 1741438643592, 'x': -0.0017453292519943296, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438643643, 'x': 0.0017453292519943296, 'y': 0.0017453292519943296, 'z': 0}, {'t': 1741438643694, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438643746, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438643797, 'x': 0.0017453292519943296, 'y': 0, 'z': 0}, {'t': 1741438643899, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438643949, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644000, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644051, 'x': 0, 'y': 0.0017453292519943296, 'z': 0}, {'t': 1741438644103, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644154, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644205, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438644257, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438644308, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644360, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438644411, 'x': 0.0017453292519943296, 'y': 0, 'z': 0}, {'t': 1741438644463, 'x': 0.0017453292519943296, 'y': 0.0017453292519943296, 'z': 0}], 'magnetometer': [{'t': 1741438643542, 'x': -9.25, 'y': -23.5, 'z': -44.19}, {'t': 1741438643593, 'x': -9.25, 'y': -23.5, 'z': -44.19}, {'t': 1741438643645, 'x': -8.75, 'y': -23.38, 'z': -43.94}, {'t': 1741438643696, 'x': -8.75, 'y': -23.38, 'z': -43.94}, {'t': 1741438643747, 'x': -8.69, 'y': -22.63, 'z': -43.94}, {'t': 1741438643798, 'x': -8.69, 'y': -22.63, 'z': -43.94}, {'t': 1741438643899, 'x': -8.44, 'y': -23.81, 'z': -44.56}, {'t': 1741438643950, 'x': -9.06, 'y': -23, 'z': -43.88}, {'t': 1741438644001, 'x': -9.06, 'y': -23, 'z': -43.88}, {'t': 1741438644053, 'x': -9.25, 'y': -23.63, 'z': -44.75}, {'t': 1741438644104, 'x': -9.25, 'y': -23.63, 'z': -44.75}, {'t': 1741438644155, 'x': -9.06, 'y': -23.25, 'z': -43.94}, {'t': 1741438644207, 'x': -9.06, 'y': -23.25, 'z': -43.94}, {'t': 1741438644258, 'x': -8.88, 'y': -23.44, 'z': -43.63}, {'t': 1741438644309, 'x': -8.88, 'y': -23.44, 'z': -43.63}, {'t': 1741438644361, 'x': -9.5, 'y': -23.25, 'z': -43.81}, {'t': 1741438644413, 'x': -9.5, 'y': -23.25, 'z': -43.81}, {'t': 1741438644464, 'x': -9.38, 'y': -22.56, 'z': -44.25}], 'absOrientation': [{'t': 1741438643558, 'x': 178.9342608673567, 'y': 2.5524820871147678, 'z': -162.11848516540667}, {'t': 1741438643609, 'x': 178.9342608673567, 'y': 2.5524820871147678, 'z': -162.11848516540667}, {'t': 1741438643660, 'x': 178.92980539894629, 'y': 2.550618240758628, 'z': -162.11856701826403}, {'t': 1741438643712, 'x': 178.92980539894629, 'y': 2.550618240758628, 'z': -162.11856701826403}, {'t': 1741438643763, 'x': 178.92980539894629, 'y': 2.550618240758628, 'z': -162.11856701826403}, {'t': 1741438643815, 'x': 178.92535320271105, 'y': 2.548746622352645, 'z': -162.11864858046064}, {'t': 1741438643900, 'x': 178.92535320271105, 'y': 2.548746622352645, 'z': -162.11864858046064}, {'t': 1741438643950, 'x': 178.92535320271105, 'y': 2.548746622352645, 'z': -162.11864858046064}, {'t': 1741438644001, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644054, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644106, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644158, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644209, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644260, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644311, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644363, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644415, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644466, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}], 'relOrientation': [{'t': 1741438643559, 'x': 178.8712119534705, 'y': 2.640146798236988, 'z': 2.3079766529521786}, {'t': 1741438643610, 'x': 178.8648792286603, 'y': 2.64186136320185, 'z': 2.302799007875889}, {'t': 1741438643661, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643713, 'x': 178.8666033872273, 'y': 2.63817279742803, 'z': 2.307889979517481}, {'t': 1741438643765, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643816, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643900, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643951, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644001, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644056, 'x': 178.85565962483614, 'y': 2.637883211300196, 'z': 2.3026261442506977}, {'t': 1741438644108, 'x': 178.85565962483614, 'y': 2.637883211300196, 'z': 2.3026261442506977}, {'t': 1741438644160, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644211, 'x': 178.85565962483614, 'y': 2.637883211300196, 'z': 2.3026261442506977}, {'t': 1741438644263, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644314, 'x': 178.85854005811873, 'y': 2.643553602891253, 'z': 2.297614145332214}, {'t': 1741438644366, 'x': 178.85854005811873, 'y': 2.643553602891253, 'z': 2.297614145332214}, {'t': 1741438644417, 'x': 178.8539255739955, 'y': 2.641557484641681, 'z': 2.297527637893572}, {'t': 1741438644469, 'x': 178.85854005811873, 'y': 2.643553602891253, 'z': 2.297614145332214}]} timestamp=1741438644510";
//        $data6 = "sensorData={'accelerometer': [{'t': 1741438643560, 'x': 0.9, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643611, 'x': 0.9, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643663, 'x': 0.9, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643715, 'x': 0.9, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438643766, 'x': 0.9, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438643818, 'x': 0.9, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643900, 'x': 0.9, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438643951, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644002, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644057, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644109, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644163, 'x': 0.5, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644215, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644266, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644317, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644368, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644420, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644471, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}], 'gyroscope': [{'t': 1741438643540, 'x': 0.0017453292519943296, 'y': 0, 'z': 0}, {'t': 1741438643592, 'x': -0.0017453292519943296, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438643643, 'x': 0.0017453292519943296, 'y': 0.0017453292519943296, 'z': 0}, {'t': 1741438643694, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438643746, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438643797, 'x': 0.0017453292519943296, 'y': 0, 'z': 0}, {'t': 1741438643899, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438643949, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644000, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644051, 'x': 0, 'y': 0.0017453292519943296, 'z': 0}, {'t': 1741438644103, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644154, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644205, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438644257, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438644308, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644360, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438644411, 'x': 0.0017453292519943296, 'y': 0, 'z': 0}, {'t': 1741438644463, 'x': 0.0017453292519943296, 'y': 0.0017453292519943296, 'z': 0}], 'magnetometer': [{'t': 1741438643542, 'x': -9.25, 'y': -23.5, 'z': -44.19}, {'t': 1741438643593, 'x': -9.25, 'y': -23.5, 'z': -44.19}, {'t': 1741438643645, 'x': -8.75, 'y': -23.38, 'z': -43.94}, {'t': 1741438643696, 'x': -8.75, 'y': -23.38, 'z': -43.94}, {'t': 1741438643747, 'x': -8.69, 'y': -22.63, 'z': -43.94}, {'t': 1741438643798, 'x': -8.69, 'y': -22.63, 'z': -43.94}, {'t': 1741438643899, 'x': -8.44, 'y': -23.81, 'z': -44.56}, {'t': 1741438643950, 'x': -9.06, 'y': -23, 'z': -43.88}, {'t': 1741438644001, 'x': -9.06, 'y': -23, 'z': -43.88}, {'t': 1741438644053, 'x': -9.25, 'y': -23.63, 'z': -44.75}, {'t': 1741438644104, 'x': -9.25, 'y': -23.63, 'z': -44.75}, {'t': 1741438644155, 'x': -9.06, 'y': -23.25, 'z': -43.94}, {'t': 1741438644207, 'x': -9.06, 'y': -23.25, 'z': -43.94}, {'t': 1741438644258, 'x': -8.88, 'y': -23.44, 'z': -43.63}, {'t': 1741438644309, 'x': -8.88, 'y': -23.44, 'z': -43.63}, {'t': 1741438644361, 'x': -9.5, 'y': -23.25, 'z': -43.81}, {'t': 1741438644413, 'x': -9.5, 'y': -23.25, 'z': -43.81}, {'t': 1741438644464, 'x': -9.38, 'y': -22.56, 'z': -44.25}], 'absOrientation': [{'t': 1741438643558, 'x': 178.9342608673567, 'y': 2.5524820871147678, 'z': -162.11848516540667}, {'t': 1741438643609, 'x': 178.9342608673567, 'y': 2.5524820871147678, 'z': -162.11848516540667}, {'t': 1741438643660, 'x': 178.92980539894629, 'y': 2.550618240758628, 'z': -162.11856701826403}, {'t': 1741438643712, 'x': 178.92980539894629, 'y': 2.550618240758628, 'z': -162.11856701826403}, {'t': 1741438643763, 'x': 178.92980539894629, 'y': 2.550618240758628, 'z': -162.11856701826403}, {'t': 1741438643815, 'x': 178.92535320271105, 'y': 2.548746622352645, 'z': -162.11864858046064}, {'t': 1741438643900, 'x': 178.92535320271105, 'y': 2.548746622352645, 'z': -162.11864858046064}, {'t': 1741438643950, 'x': 178.92535320271105, 'y': 2.548746622352645, 'z': -162.11864858046064}, {'t': 1741438644001, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644054, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644106, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644158, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644209, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644260, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644311, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644363, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644415, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644466, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}], 'relOrientation': [{'t': 1741438643559, 'x': 178.8712119534705, 'y': 2.640146798236988, 'z': 2.3079766529521786}, {'t': 1741438643610, 'x': 178.8648792286603, 'y': 2.64186136320185, 'z': 2.302799007875889}, {'t': 1741438643661, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643713, 'x': 178.8666033872273, 'y': 2.63817279742803, 'z': 2.307889979517481}, {'t': 1741438643765, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643816, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643900, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643951, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644001, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644056, 'x': 178.85565962483614, 'y': 2.637883211300196, 'z': 2.3026261442506977}, {'t': 1741438644108, 'x': 178.85565962483614, 'y': 2.637883211300196, 'z': 2.3026261442506977}, {'t': 1741438644160, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644211, 'x': 178.85565962483614, 'y': 2.637883211300196, 'z': 2.3026261442506977}, {'t': 1741438644263, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644314, 'x': 178.85854005811873, 'y': 2.643553602891253, 'z': 2.297614145332214}, {'t': 1741438644366, 'x': 178.85854005811873, 'y': 2.643553602891253, 'z': 2.297614145332214}, {'t': 1741438644417, 'x': 178.8539255739955, 'y': 2.641557484641681, 'z': 2.297527637893572}, {'t': 1741438644469, 'x': 178.85854005811873, 'y': 2.643553602891253, 'z': 2.297614145332214}]} timestamp=1741438644510";
//
//
//
//        $result = $this->handleSensorData($this->temp($data));
//
//        sleep(1);
//
//        $result = $this->handleSensorData($this->temp($data2));
//
//        sleep(1);
//
//        $result = $this->handleSensorData($this->temp($data3));
//
//        sleep(1);
//
//        $result = $this->handleSensorData($this->temp($data4));
//
//        sleep(1);
//
//        $result = $this->handleSensorData($this->temp($data5));
//
//        sleep(1);
//
//        $result = $this->handleSensorData($this->temp($data6));
//
//        dd($result);
//    }


    public function sendSensorData($data = null)
    {
//        $data6 = "sensorData={'accelerometer': [{'t': 1741438643560, 'x': 0.9, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643611, 'x': 0.9, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643663, 'x': 0.9, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643715, 'x': 0.9, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438643766, 'x': 0.9, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438643818, 'x': 0.9, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438643900, 'x': 0.9, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438643951, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644002, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644057, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644109, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644163, 'x': 0.5, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644215, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644266, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644317, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644368, 'x': 0.4, 'y': 0.2, 'z': 9.700000000000001}, {'t': 1741438644420, 'x': 0.5, 'y': 0.2, 'z': 9.600000000000001}, {'t': 1741438644471, 'x': 0.4, 'y': 0.2, 'z': 9.600000000000001}], 'gyroscope': [{'t': 1741438643540, 'x': 0.0017453292519943296, 'y': 0, 'z': 0}, {'t': 1741438643592, 'x': -0.0017453292519943296, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438643643, 'x': 0.0017453292519943296, 'y': 0.0017453292519943296, 'z': 0}, {'t': 1741438643694, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438643746, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438643797, 'x': 0.0017453292519943296, 'y': 0, 'z': 0}, {'t': 1741438643899, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438643949, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644000, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644051, 'x': 0, 'y': 0.0017453292519943296, 'z': 0}, {'t': 1741438644103, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644154, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644205, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438644257, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438644308, 'x': 0, 'y': -0.0017453292519943296, 'z': 0}, {'t': 1741438644360, 'x': 0, 'y': 0, 'z': 0}, {'t': 1741438644411, 'x': 0.0017453292519943296, 'y': 0, 'z': 0}, {'t': 1741438644463, 'x': 0.0017453292519943296, 'y': 0.0017453292519943296, 'z': 0}], 'magnetometer': [{'t': 1741438643542, 'x': -9.25, 'y': -23.5, 'z': -44.19}, {'t': 1741438643593, 'x': -9.25, 'y': -23.5, 'z': -44.19}, {'t': 1741438643645, 'x': -8.75, 'y': -23.38, 'z': -43.94}, {'t': 1741438643696, 'x': -8.75, 'y': -23.38, 'z': -43.94}, {'t': 1741438643747, 'x': -8.69, 'y': -22.63, 'z': -43.94}, {'t': 1741438643798, 'x': -8.69, 'y': -22.63, 'z': -43.94}, {'t': 1741438643899, 'x': -8.44, 'y': -23.81, 'z': -44.56}, {'t': 1741438643950, 'x': -9.06, 'y': -23, 'z': -43.88}, {'t': 1741438644001, 'x': -9.06, 'y': -23, 'z': -43.88}, {'t': 1741438644053, 'x': -9.25, 'y': -23.63, 'z': -44.75}, {'t': 1741438644104, 'x': -9.25, 'y': -23.63, 'z': -44.75}, {'t': 1741438644155, 'x': -9.06, 'y': -23.25, 'z': -43.94}, {'t': 1741438644207, 'x': -9.06, 'y': -23.25, 'z': -43.94}, {'t': 1741438644258, 'x': -8.88, 'y': -23.44, 'z': -43.63}, {'t': 1741438644309, 'x': -8.88, 'y': -23.44, 'z': -43.63}, {'t': 1741438644361, 'x': -9.5, 'y': -23.25, 'z': -43.81}, {'t': 1741438644413, 'x': -9.5, 'y': -23.25, 'z': -43.81}, {'t': 1741438644464, 'x': -9.38, 'y': -22.56, 'z': -44.25}], 'absOrientation': [{'t': 1741438643558, 'x': 178.9342608673567, 'y': 2.5524820871147678, 'z': -162.11848516540667}, {'t': 1741438643609, 'x': 178.9342608673567, 'y': 2.5524820871147678, 'z': -162.11848516540667}, {'t': 1741438643660, 'x': 178.92980539894629, 'y': 2.550618240758628, 'z': -162.11856701826403}, {'t': 1741438643712, 'x': 178.92980539894629, 'y': 2.550618240758628, 'z': -162.11856701826403}, {'t': 1741438643763, 'x': 178.92980539894629, 'y': 2.550618240758628, 'z': -162.11856701826403}, {'t': 1741438643815, 'x': 178.92535320271105, 'y': 2.548746622352645, 'z': -162.11864858046064}, {'t': 1741438643900, 'x': 178.92535320271105, 'y': 2.548746622352645, 'z': -162.11864858046064}, {'t': 1741438643950, 'x': 178.92535320271105, 'y': 2.548746622352645, 'z': -162.11864858046064}, {'t': 1741438644001, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644054, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644106, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644158, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644209, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644260, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644311, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644363, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644415, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}, {'t': 1741438644466, 'x': 178.9209042922383, 'y': 2.546867237629996, 'z': -162.1187298510028}], 'relOrientation': [{'t': 1741438643559, 'x': 178.8712119534705, 'y': 2.640146798236988, 'z': 2.3079766529521786}, {'t': 1741438643610, 'x': 178.8648792286603, 'y': 2.64186136320185, 'z': 2.302799007875889}, {'t': 1741438643661, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643713, 'x': 178.8666033872273, 'y': 2.63817279742803, 'z': 2.307889979517481}, {'t': 1741438643765, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643816, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643900, 'x': 178.86199828726254, 'y': 2.636190757749546, 'z': 2.3078036245033533}, {'t': 1741438643951, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644001, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644056, 'x': 178.85565962483614, 'y': 2.637883211300196, 'z': 2.3026261442506977}, {'t': 1741438644108, 'x': 178.85565962483614, 'y': 2.637883211300196, 'z': 2.3026261442506977}, {'t': 1741438644160, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644211, 'x': 178.85565962483614, 'y': 2.637883211300196, 'z': 2.3026261442506977}, {'t': 1741438644263, 'x': 178.86026768391628, 'y': 2.6398763092672293, 'z': 2.3027124158597436}, {'t': 1741438644314, 'x': 178.85854005811873, 'y': 2.643553602891253, 'z': 2.297614145332214}, {'t': 1741438644366, 'x': 178.85854005811873, 'y': 2.643553602891253, 'z': 2.297614145332214}, {'t': 1741438644417, 'x': 178.8539255739955, 'y': 2.641557484641681, 'z': 2.297527637893572}, {'t': 1741438644469, 'x': 178.85854005811873, 'y': 2.643553602891253, 'z': 2.297614145332214}]} timestamp=1741438644510";
//        $data2 = $this->temp($data6);
//        $data2['uid'] = $this->_uid;

        $data['uid'] = $this->_uid;

        $response = Http::post('http://127.0.0.1:5050/lstm-predict', $data);

        if ($response->successful()) {
            $result = $response->json();

            $this->dispatch('prediction-updated', $result);
//            return $result;
        } else {
            $this->predictionResult = 'Chyba: ' . $response->status();
        }


    }

    public function clearData()
    {
        $response = Http::post('http://127.0.0.1:5050/clear-data', ['uid' => $this->_uid]);
//        dd($response);
    }

    public function render()
    {
        return view('livewire.lstm-prediction');
    }
}
